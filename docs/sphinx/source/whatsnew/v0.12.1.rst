.. _whatsnew_01201:


v0.12.1 (XXXX, 2025)
------------------------

Breaking Changes
~~~~~~~~~~~~~~~~


Bug fixes
~~~~~~~~~


Enhancements
~~~~~~~~~~~~
* Add NREL NSRDB PSM v4 API client to :py:mod:`pvlib.iotools`. See
  :py:func:`~pvlib.iotools.get_nsrdb_psm4_aggregated`,
  :py:func:`~pvlib.iotools.get_nsrdb_psm4_tmy`,
  :py:func:`~pvlib.iotools.get_nsrdb_psm4_conus`,
  :py:func:`~pvlib.iotools.get_nsrdb_psm4_full_disc`,
  :py:func:`~pvlib.iotools.read_nsrdb_psm4`, and
  :py:func:`~pvlib.iotools.parse_nsrdb_psm4`. (:issue:`2326`, :pull:`2378`)
* ``pvlib.ivtools.sdm`` is now a subpackage. (:issue:`2252`, :pull:`2256`)


Documentation
~~~~~~~~~~~~~
* Add a supporting reference to :py:func:`pvlib.atmosphere.get_relative_airmass` (:issue:`2390`, :pull:`2424`)
* Documented how `np.nan` values are handled by :py:func:`~pvlib.spectrum.average_photon_energy`
  (:issue:`2423`, :pull:`2426`)

Testing
~~~~~~~


Maintenance
~~~~~~~~~~~


Contributors
~~~~~~~~~~~~
* Cliff Hansen (:ghuser:`cwhanse`)
* Rajiv Daxini (:ghuser:`RDaxini`)
* Will Hobbs (:ghuser:`williamhobbs`)
* Kevin Anderson (:ghuser:`kandersolar`)
* Will Holmgren (:ghuser:`wholmgren`)
